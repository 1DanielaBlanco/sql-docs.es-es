---
title: "Usar claves generadas automáticamente | Documentos de Microsoft"
ms.custom: 
ms.date: 01/19/2017
ms.prod: sql-non-specified
ms.prod_service: drivers
ms.service: 
ms.component: jdbc
ms.reviewer: 
ms.suite: sql
ms.technology:
- drivers
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 55a062c7-45ce-40e3-9a6f-4a0f4da4e2a6
caps.latest.revision: 18
author: MightyPen
ms.author: genemi
manager: jhubbard
ms.workload: Inactive
ms.translationtype: MT
ms.sourcegitcommit: f7e6274d77a9cdd4de6cbcaef559ca99f77b3608
ms.openlocfilehash: ff2df18e392d8c72e1c92aea7d9908d72496b3aa
ms.contentlocale: es-es
ms.lasthandoff: 09/09/2017

---
# <a name="using-auto-generated-keys"></a>Usar claves generadas automáticamente
[!INCLUDE[Driver_JDBC_Download](../../includes/driver_jdbc_download.md)]

  El [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] es compatible con la API de JDBC 3.0 opcionales para recuperar automáticamente identificadores de fila generados. El valor principal de esta característica es proporcionar un método de modo que los valores IDENTITY estén disponibles para la aplicación que actualiza la tabla de base de datos sin necesidad de una consulta y un segundo ciclo de ida y vuelta en el servidor.  
  
 Dado que [!INCLUDE[ssNoVersion](../../includes/ssnoversion_md.md)] no admite pseudocolumnas para identificadores, las actualizaciones que se debe usar la característica de clave generada automáticamente deben funcionar en una tabla que contiene una columna de identidad. [!INCLUDE[ssNoVersion](../../includes/ssnoversion_md.md)]permite solo una sola columna de identidad por tabla. El conjunto de resultados devuelto por [getGeneratedKeys](../../connect/jdbc/reference/getgeneratedkeys-method-sqlserverstatement.md) método de la [SQLServerStatement](../../connect/jdbc/reference/sqlserverstatement-class.md) clase tendrá solo una columna con el nombre de la columna devuelta de GENERATED_KEYS. Si las claves generadas se solicitan en una tabla que no contiene la columna IDENTITY, el controlador JDBC devuelve un conjunto de resultados con valores nulos.  
  
 Por ejemplo, cree la siguiente tabla en la [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal_md.md)] base de datos de ejemplo:  
  
```  
CREATE TABLE TestTable   
   (Col1 int IDENTITY,   
    Col2 varchar(50),   
    Col3 int);  
```  
  
 En el ejemplo siguiente, una conexión abierta a la [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal_md.md)] base de datos de ejemplo se pasa a la función, se genera una instrucción SQL que agregará datos a la tabla y, a continuación, se ejecuta la instrucción y se muestra el valor de la columna de identidad.  
  
 [!code[JDBC#UsingAutoGeneratedKeys1](../../connect/jdbc/codesnippet/Java/using-auto-generated-keys_1.java)]  
  
## <a name="see-also"></a>Vea también  
 [Usar instrucciones con el controlador JDBC](../../connect/jdbc/using-statements-with-the-jdbc-driver.md)  
  
  

